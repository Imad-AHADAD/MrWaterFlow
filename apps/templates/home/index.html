{% extends "layouts/base.html" %}
{% load static %}

{% block title %} Dashboard {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
<style>
    .intro-container {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh; /* Full height */
        width: 100vw; /* Full width */
        text-align: center;
        background-image: url('{% static "assets/img/wmarocPalestine.png" %}');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
        overflow: hidden; /* Ensure raindrops are contained */
        padding: 0 10vw; /* Large margins on left and right */
    }
    .intro-text {
        font-family: 'Arial', sans-serif; /* Changed font */
        font-size: 2.5em;
        font-weight: bold;
        color: white;
        text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.7);
        animation: fadeInDown 2s ease-in-out, bounce 2s 2s infinite;
        z-index: 1; /* Ensure the text is above the raindrops */
        margin: 0 auto; /* Center the text */
        max-width: 80%; /* Ensure the text doesn't exceed container width */
    }
    @keyframes fadeInDown {
        0% {
            opacity: 0;
            transform: translateY(-20px);
        }
        100% {
            opacity: 1;
            transform: translateY(0);
        }
    }
    @keyframes bounce {
        0%, 20%, 50%, 80%, 100% {
            transform: translateY(0);
        }
        40% {
            transform: translateY(-30px);
        }
        60% {
            transform: translateY(-15px);
        }
    }
    .animated-figure {
        position: absolute;
        top: 10%;
        left: 10%;
        width: 100px; /* Adjust as needed */
        height: 100px; /* Adjust as needed */
        z-index: 1; /* Ensure the figure is above the raindrops */
    }

    /* Raindrop Styles */
    .raindrop {
        position: absolute;
        top: -10px;
        width: 2px;
        height: 15px;
        background: rgba(255, 255, 255, 0.6);
        animation: fall linear infinite;
    }
    @keyframes fall {
        to {
            transform: translateY(110vh);
        }
    }
</style>
{% endblock stylesheets %}

{% block content %}

<div class="content">
    <div class="intro-container">
        <!-- Raindrops will be added by JavaScript -->
        <div class="animated-figure animate__animated animate__bounce">
            <img src="{% static 'assets/img/wmarocPalestine.png' %}" alt="Figure" class="img-fluid"> <!-- Replace with the path to your figure -->
        </div>
        <div class="intro-text">
            Bienvenue dans notre application d'analyse de données massives des Précipitations.
        </div>
    </div>
</div>

<script>
    // JavaScript to generate raindrops
    const introContainer = document.querySelector('.intro-container');
    const raindropCount = 50;

    for (let i = 0; i < raindropCount; i++) {
        const raindrop = document.createElement('div');
        raindrop.classList.add('raindrop');
        raindrop.style.left = Math.random() * 100 + 'vw';
        raindrop.style.animationDuration = Math.random() * 2 + 2 + 's'; // Between 2s and 4s
        introContainer.appendChild(raindrop);
    }
</script>

{% endblock content %}
